import{d as L,c as j,r as v,a as i,o as C,b as y,e,f as t,w as l,t as E,g as T,h as K,_ as $,i as R,u as q,p as O,j as Q,k as W,l as A,v as B,F as X,m as Z,n as ee,q as te}from"./index-BuezEob_.js";import{p as ae}from"./index-BGD2AnaF.js";const le={class:"upload-content"},oe={class:"upload-wrap"},se={class:"el-upload__text"},ne={class:"desc"},ie=K('<div class="tips-wrap" data-v-404fbfca><div class="tip" data-v-404fbfca><div class="box" data-v-404fbfca><p class="tip-title" data-v-404fbfca>视频大小</p><p class="tip-content" data-v-404fbfca>支持时长60分钟以内，</p><p class="tip-content" data-v-404fbfca>最大20GB的视频文件</p></div></div><div class="tip" data-v-404fbfca><div class="box" data-v-404fbfca><p class="tip-title" data-v-404fbfca>视频格式</p><p class="tip-content" data-v-404fbfca>支持常用视频格式</p><p class="tip-content" data-v-404fbfca>推荐使用mp4、mov</p></div></div><div class="tip" data-v-404fbfca><div class="box" data-v-404fbfca><p class="tip-title" data-v-404fbfca>视频分辨率</p><p class="tip-content" data-v-404fbfca>推荐上传720P(1280*720)及以上视频，</p><p class="tip-content" data-v-404fbfca>超过1080P的视频用网页端上传画质更清晰</p></div></div></div>',1),ce=L({__name:"index",props:{mark:{type:String,default:""},btnTitle:{type:String,required:!0}},emits:["updateData"],setup(_,{emit:x}){const b=x,f="https://www.daimaxiaoxuesheng.xyz/api",d=j(()=>`${f}/api/v1/file/upload`),r=v(""),m=h=>{r.value=h.data,b("updateData",r.value)};return(h,g)=>{const o=i("upload-filled"),w=i("el-icon"),V=i("el-button"),s=i("el-upload");return C(),y("div",le,[e("div",oe,[t(s,{class:"upload-box",drag:"",action:d.value,"on-success":m,multiple:""},{default:l(()=>[t(w,{class:"el-icon--upload"},{default:l(()=>[t(o)]),_:1}),e("div",se,[e("p",ne,E(_.mark),1),t(V,{size:"small",type:"primary"},{default:l(()=>[T(E(_.btnTitle),1)]),_:1})])]),_:1},8,["action"])]),ie])}}}),M=$(ce,[["__scopeId","data-v-404fbfca"]]),de={class:"container"},ue=["src"],pe=L({__name:"index",props:{coverImge:{type:String,default:""}},emits:["itemImgListChanged"],setup(_,{emit:x}){const b="https://www.daimaxiaoxuesheng.xyz/api",f=j(()=>`${b}/api/v1/file/upload`),d=_,r=x,m=v([]),h=v(""),g=v(!1),o=(s,u)=>{console.log("删除咯",s,u)},w=s=>{console.log("TMDE 哈哈哈哈",s),h.value=s.url,g.value=!0},V=(s,u,I)=>{console.log("上传成功",s,u,I),u.url=s.data};return R(()=>d.coverImge,s=>{console.log("父组件传来的值：",s),m.value.push({name:"cover.jpg",url:s})}),R(m,s=>{r("itemImgListChanged",s)}),(s,u)=>{const I=i("el-icon"),k=i("el-upload"),a=i("el-dialog");return C(),y("div",de,[t(k,{"file-list":m.value,"onUpdate:fileList":u[0]||(u[0]=n=>m.value=n),action:f.value,"list-type":"picture-card","on-preview":w,"on-success":V,"on-remove":o},{default:l(()=>[t(I,null,{default:l(()=>[t(q(O))]),_:1})]),_:1},8,["file-list","action"]),t(a,{modelValue:g.value,"onUpdate:modelValue":u[1]||(u[1]=n=>g.value=n)},{default:l(()=>[e("img",{"w-full":"",src:h.value,alt:"Preview Image"},null,8,ue)]),_:1},8,["modelValue"])])}}}),_e=$(pe,[["__scopeId","data-v-ed3506e3"]]),p=_=>(ee("data-v-63073a5e"),_=_(),te(),_),re={class:"container"},me={class:"before-publish"},ve={class:"main-publish"},fe={class:"header"},he=p(()=>e("span",null," 发布图文 ",-1)),be={class:"content"},ge={class:"media-area-new"},xe={class:"img-list"},we=p(()=>e("div",{class:"title-area"},[e("div",{class:"title"},"图片编辑"),e("div",{class:"status"},"(1/18)")],-1)),Ve={class:"img-upload-area"},Ie={class:"title-input"},Te={class:"topic-container"},Ue=p(()=>e("div",{class:"setting"}," 发布设置 ",-1)),Ce={class:"formbox"},ye={class:"flexbox"},ke=p(()=>e("div",{class:"_title"},"自主申明",-1)),Le={class:"flexbox"},$e=p(()=>e("div",{class:"_title"},"权限设置",-1)),ze=p(()=>e("span",null,"公开",-1)),Ne=p(()=>e("span",{class:"see"},"(所有人可见)",-1)),Se=p(()=>e("span",null,"私有",-1)),De=p(()=>e("span",{class:"see"},"(仅自己可见)",-1)),Pe={class:"flexbox"},Ee=p(()=>e("div",{class:"_title"},"发布时间",-1)),Re={class:"submit"},Ae={class:"submit-wrap"},Be=L({__name:"index",setup(_){let x=Q();const b=v("first"),f=v(""),d=v([]);v("");const r=v(!0),m=Math.floor(Date.now()/1e3);function h(a){o.publishTime=a}const g=[{value:"VIRTUAL-ENTERTAINMENT",label:"虚拟演绎，仅供娱乐"},{value:"AI-MERGER",label:"笔记含AI合成内容"}],o=W({noteTitle:"库里起飞",noteContent:"就是库里咯",private:!0,statement:"",publishTime:0,contentType:1,imgList:d.value}),w=()=>{o.imgList=d.value.map(a=>({url:a.url,name:a.name})),ae(o).then(a=>{console.log(a),x.push("/notes-manager")}).catch(a=>{console.log(a)})},V=(a,n)=>{console.log(a,n)};function s(a){r.value=!1,f.value=a,d.value.push({url:a,name:"coverImge"}),console.log("imgList",d.value)}function u(){console.log("清空并重新上传"),d.value=[]}function I(a){console.log("子组件传回来的",a),d.value=a}function k(){d.value=[],f.value="",r.value=!0}return(a,n)=>{const z=i("el-tab-pane"),F=i("el-tabs"),N=i("el-card"),G=i("ArrowLeft"),Y=i("el-icon"),S=i("el-input"),H=i("el-option"),J=i("el-select"),U=i("el-radio"),D=i("el-radio-group"),P=i("el-button");return C(),y("div",re,[A(e("div",me,[t(N,null,{default:l(()=>[t(F,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=c=>b.value=c),class:"demo-tabs",onTabClick:V},{default:l(()=>[t(z,{label:"上传视频",name:"first"},{default:l(()=>[t(M,{mark:"拖拽或者点击上传视频",onUpdateData:s,btnTitle:"上传视频"})]),_:1}),t(z,{label:"上传图文",name:"second"},{default:l(()=>[t(M,{mark:"拖拽图片到此或点击上传",onUpdateData:s,btnTitle:"上传图片"})]),_:1})]),_:1},8,["modelValue"])]),_:1})],512),[[B,r.value]]),A(e("div",ve,[t(N,null,{default:l(()=>[e("div",fe,[e("span",{class:"icon",onClick:k},[t(Y,null,{default:l(()=>[t(G)]),_:1})]),he]),e("div",be,[e("div",ge,[e("div",xe,[e("div",{class:"top"},[we,e("span",{class:"reset-upload",onClick:u},"清空并重新上传")]),e("div",Ve,[t(_e,{coverImge:f.value,onItemImgListChanged:I},null,8,["coverImge"])]),e("div",Ie,[t(S,{modelValue:o.noteTitle,"onUpdate:modelValue":n[1]||(n[1]=c=>o.noteTitle=c),style:{width:"240px"},maxlength:"20",placeholder:"填写标题，可能会有更多赞哦~","show-word-limit":"",type:"text"},null,8,["modelValue"])]),e("div",Te,[t(S,{modelValue:o.noteContent,"onUpdate:modelValue":n[2]||(n[2]=c=>o.noteContent=c),style:{width:"240px"},rows:2,tabindex:"0",maxlength:"100","show-word-limit":"",type:"textarea",placeholder:"填写更全面的描述信息，让更多的人看到你吧！"},null,8,["modelValue"])]),Ue,e("div",Ce,[e("div",ye,[ke,t(J,{modelValue:o.statement,"onUpdate:modelValue":n[3]||(n[3]=c=>o.statement=c),placeholder:"点击设置笔记声明",size:"default","suffix-icon":"",style:{width:"420px"}},{default:l(()=>[(C(),y(X,null,Z(g,c=>t(H,{key:c.value,label:c.label,value:c.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Le,[$e,t(D,{modelValue:o.private,"onUpdate:modelValue":n[4]||(n[4]=c=>o.private=c)},{default:l(()=>[t(U,{value:!0,size:"large"},{default:l(()=>[ze,Ne]),_:1}),t(U,{value:!1,size:"large"},{default:l(()=>[Se,De]),_:1})]),_:1},8,["modelValue"])]),e("div",Pe,[Ee,t(D,{modelValue:o.publishTime,"onUpdate:modelValue":n[5]||(n[5]=c=>o.publishTime=c),onChange:h},{default:l(()=>[t(U,{label:q(m),size:"large"},{default:l(()=>[T(" 立即发布 ")]),_:1},8,["label"]),t(U,{label:0,size:"large"},{default:l(()=>[T(" 定时发布 ")]),_:1})]),_:1},8,["modelValue"])])]),e("div",Re,[e("div",Ae,[t(P,{size:"large",color:"#ff2442",onClick:w,class:"push"},{default:l(()=>[T("发布")]),_:1}),t(P,{size:"large",class:"cancel"},{default:l(()=>[T("取消")]),_:1})])])])])])]),_:1})],512),[[B,!r.value]])])}}}),qe=$(Be,[["__scopeId","data-v-63073a5e"]]);export{qe as default};
