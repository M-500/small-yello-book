import{_ as q}from"./avatar-NgcJYLwI.js";import{e as u,r as b,o as s,f as n,b as t,g as a,w as $,l as L,R as N,h as O,t as w,q as V,s as T,k as R,F as v,p as A,a as B,x as U,j,c as E,d as H,n as M,B as P,z as G}from"./index-DMdI58a_.js";import{l as J,b as K}from"./index-B-Abmu2A.js";import{r as Q}from"./user-2AIJstJP.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=e=>Q.get("/api/v1/comments/:uuid".replace(":uuid",e)),S=e=>(A("data-v-8cf74a72"),e=e(),B(),e),X={class:"comment-item"},Y={class:"comment-inner-container"},Z={class:"avatar"},tt=["src"],et={class:"right"},st={class:"author-wrap"},ot={class:"author"},nt=S(()=>t("div",{class:"comment-menu"}," ... ",-1)),ct={class:"content"},at={class:"picture"},it={key:0,class:"img-box"},lt=["src"],dt={class:"info"},_t=S(()=>t("div",{class:"date"},[t("span",{class:"date-info"},"09-01"),t("span",{class:"location"},"广东")],-1)),rt={class:"interaction"},mt={class:"like"},ut=S(()=>t("span",{class:"count"},"1",-1)),vt=S(()=>t("span",{class:"count"},"1",-1)),ht={class:"replay"},pt=S(()=>t("span",{class:"count"},"1",-1)),$t={__name:"comment-item",props:{comment:Object},setup(e){const i=u(!1),r=d=>{d===1?i.value=!0:i.value=!1},o=e;return(d,l)=>{const m=b("svg-icon");return s(),n("div",X,[t("div",Y,[t("div",Z,[a(L(N),{to:"/home",class:"item"},{default:$(()=>[t("img",{src:o.comment.userAvatar,alt:""},null,8,tt)]),_:1})]),t("div",et,[t("div",st,[t("div",ot,[a(L(N),{to:"/home"},{default:$(()=>[O(w(o.comment.userNickName)+" ",1),V(t("span",null,"作者",512),[[T,o.comment.isAuthor]])]),_:1})]),nt]),t("div",ct,w(o.comment.content),1),t("div",at,[o.comment.mediaUrl?(s(),n("div",it,[t("img",{src:o.comment.mediaUrl,alt:""},null,8,lt)])):R("",!0)]),t("div",dt,[_t,t("div",rt,[t("div",mt,[i.value?(s(),n(v,{key:1},[a(m,{name:"liked",onClick:l[1]||(l[1]=C=>r(0)),height:"16"}),vt],64)):(s(),n(v,{key:0},[a(m,{name:"like",onClick:l[0]||(l[0]=C=>r(1)),height:"16"}),ut],64))]),t("div",ht,[a(m,{name:"comment",height:"16"}),pt])])])])])])}}},ft=g($t,[["__scopeId","data-v-8cf74a72"]]),F=e=>(A("data-v-e4000b45"),e=e(),B(),e),kt={class:"sub-container"},bt={class:"comment-inner"},gt={class:"avatar"},yt=F(()=>t("img",{src:q,class:"img-item",alt:""},null,-1)),Ct={class:"right"},It={class:"author-wrap"},xt={class:"author"},wt=F(()=>t("span",null,"作者",-1)),St=F(()=>t("div",{class:"comment-menu"}," ... ",-1)),Et={class:"content"},Lt=U('<div class="info" data-v-e4000b45><div class="date" data-v-e4000b45><span class="date-info" data-v-e4000b45>09-01</span><span class="location" data-v-e4000b45>广东</span></div><div class="interaction" data-v-e4000b45><div class="like" data-v-e4000b45></div><div class="replay" data-v-e4000b45></div></div></div>',1),Nt={__name:"comment-sub-item",props:{item:Object},setup(e){return(i,r)=>{const o=b("router-link");return s(),n("div",kt,[t("div",bt,[t("div",gt,[a(o,{to:"/home",class:"item"},{default:$(()=>[yt]),_:1})]),t("div",Ct,[t("div",It,[t("div",xt,[a(o,{to:"/home"},{default:$(()=>[O(" 王木木咯 "),wt]),_:1})]),St]),t("div",Et,w(e.item.content),1),Lt])])])}}},At=g(Nt,[["__scopeId","data-v-e4000b45"]]),Bt={class:"replay-container"},Dt={class:"list"},Rt={__name:"replay-item",props:{replayItem:Object},setup(e){return(i,r)=>(s(),n("div",Bt,[t("div",Dt,[a(At,{item:e.replayItem},null,8,["item"])])]))}},jt=g(Rt,[["__scopeId","data-v-c210b194"]]),qt={class:"parent-comment"},Ft={__name:"index",props:{commentItem:Object},setup(e){return console.log("来了吗",e),(r,o)=>(s(),n("div",qt,[a(ft,{comment:e.commentItem},null,8,["comment"]),(s(!0),n(v,null,j(e.commentItem.sub,(d,l)=>(s(),E(jt,{key:l,replayItem:d},null,8,["replayItem"]))),128))]))}},Ot=g(Ft,[["__scopeId","data-v-83fc1f82"]]),D=e=>(A("data-v-e2a84dd3"),e=e(),B(),e),Vt={class:"comment-fotter-container"},Tt={class:"input-box"},zt={class:"content-edit"},Ut=["contenteditable"],Ht=D(()=>t("div",{class:"inner"},[t("img",{src:q,class:"avatar-item",alt:""}),t("span",null,"说点什么...")],-1)),Mt=[Ht],Pt={class:"interact-container"},Gt={class:"box"},Jt=D(()=>t("span",{class:"count"},"1",-1)),Kt={class:"box"},Qt=D(()=>t("span",{class:"count"},"1",-1)),Wt=D(()=>t("span",{class:"count"},"评论",-1)),Xt={key:0,class:"bottom-box"},Yt={class:"btn-box"},Zt={class:"left-area"},te={class:"box"},ee={class:"right-area"},se=H({__name:"index",props:{detail:{type:Object,default:()=>{}}},setup(e){const i=u(!1),r=u(!1),o=u(!1),d=u(!1),l=e,m=u({resource_id:"",action:"like",owner_id:"",resource_type:"note"}),C=async()=>{try{m.value.resource_id=l.detail.uuid,m.value.owner_id=l.detail.authorId,J(m.value).then(_=>{o.value=!o.value}).catch(_=>{console.log(_)})}catch(_){console.log(_)}},k=()=>{i.value=!0},h=()=>{i.value=!1},p=_=>{_===1?(o.value=!0,C()):o.value=!1},I=_=>{_===1?d.value=!0:d.value=!1};return(_,c)=>{const f=b("svg-icon"),z=b("SvgIcon");return s(),n("div",Vt,[t("div",Tt,[t("div",zt,[t("p",{class:"content-input",onClick:k,contenteditable:i.value},null,8,Ut),i.value?R("",!0):(s(),n("div",{key:0,class:"not-active",onClick:k},Mt))]),V(t("div",Pt,[t("div",Gt,[o.value?(s(),n(v,{key:1},[a(f,{name:"liked",onClick:c[2]||(c[2]=x=>p(0)),height:"32"}),Jt],64)):(s(),n(v,{key:0},[a(f,{name:"like",onClick:c[0]||(c[0]=x=>p(1)),height:"32"}),t("span",{class:"count",onClick:c[1]||(c[1]=x=>p(1))},"点赞")],64))]),t("div",Kt,[d.value?(s(),n(v,{key:1},[a(f,{name:"collected",onClick:c[5]||(c[5]=x=>I(0)),height:"36"}),Qt],64)):(s(),n(v,{key:0},[a(f,{name:"collect",onClick:c[3]||(c[3]=x=>I(1)),height:"36"}),t("span",{class:"count",onClick:c[4]||(c[4]=x=>I(1))},"收藏")],64))]),t("div",{class:"box",onClick:k},[a(f,{name:"comment",height:"32"}),Wt])],512),[[T,!i.value]])]),i.value?(s(),n("div",Xt,[t("div",Yt,[t("div",Zt,[t("div",te,[a(z,{name:"pic",width:"32"})])]),t("div",ee,[t("button",{class:M(["send",r.value?"active":""])},"发送",2),t("button",{class:"cancel",onClick:h},"取消")])])])):R("",!0)])}}}),oe=g(se,[["__scopeId","data-v-e2a84dd3"]]),y=e=>(A("data-v-bed30895"),e=e(),B(),e),ne={class:"outer-link-container"},ce={class:"note-container"},ae={class:"left-card"},ie={class:"note-cover"},le=["src"],de={key:1,width:"100%",style:{"background-color":"#000"},height:"100%",controls:""},_e=y(()=>t("source",{src:"http://127.0.0.1:8122/static/1725721792_%E2%80%9C%E6%88%91%E4%B8%8D%E9%9C%80%E8%A6%81%E5%90%91%E4%BD%A0%E8%A7%A3%E9%87%8A!%E2%80%9D.mp4",type:"video/mp4"},null,-1)),re=[_e],me={class:"right-card"},ue={class:"auth-container"},ve={class:"author-wrapper"},he={class:"info"},pe=y(()=>t("img",{class:"avatar-item",src:q,alt:""},null,-1)),$e=y(()=>t("span",{class:"username"},"王木木",-1)),fe={class:"follow-btn"},ke={class:"note-scoller"},be={class:"note-content"},ge={class:"title"},ye={class:"desc"},Ce={class:"detail-desc"},Ie=y(()=>t("div",{class:"bottom-container"},[t("span",{class:"date"},"08-08 浙江")],-1)),xe=y(()=>t("div",{class:"divider"},null,-1)),we={class:"comment-el"},Se={class:"comment-container"},Ee=y(()=>t("div",{class:"total"},"共360条评论",-1)),Le={class:"list-container"},Ne={class:"fotter"},Ae={class:"bar-container"},Be={__name:"index",setup(e){const r=P().params.uuid,o=u({}),d=u([]),l=u(!1),m=async()=>{const h=await K(r);o.value=h.data},C=async()=>{const h=await W(r);d.value=h.data},k=h=>{h===1?l.value=!0:l.value=!1};return G(()=>{m(),C()}),(h,p)=>{const I=b("el-carousel-item"),_=b("el-carousel");return s(),n("div",ne,[t("div",ce,[t("div",ae,[t("div",ie,[o.value.contentType===1?(s(),E(_,{key:0,"indicator-position":"outside",autoplay:!1},{default:$(()=>[(s(!0),n(v,null,j(o.value.imgList,c=>(s(),E(I,{key:c},{default:$(()=>[t("img",{class:"note-img",src:c.localPath,alt:""},null,8,le)]),_:2},1024))),128))]),_:1})):(s(),n("video",de,re))])]),t("div",me,[t("div",ue,[t("div",ve,[t("div",he,[a(L(N),{to:"/"},{default:$(()=>[pe]),_:1}),a(L(N),{class:"name"},{default:$(()=>[$e]),_:1})]),t("div",fe,[l.value?(s(),n("button",{key:1,onClick:p[1]||(p[1]=c=>k(0))},"已关注")):(s(),n("button",{key:0,onClick:p[0]||(p[0]=c=>k(1)),class:"active"},"关注"))])])]),t("div",ke,[t("div",be,[t("div",ge,w(o.value.noteTitle),1),t("div",ye,[t("span",Ce,w(o.value.noteContent),1)]),Ie]),xe,t("div",we,[t("div",Se,[Ee,t("div",Le,[(s(!0),n(v,null,j(d.value,(c,f)=>(s(),E(Ot,{key:f,commentItem:c},null,8,["commentItem"]))),128))])])])]),t("div",Ne,[t("div",Ae,[a(oe,{detail:o.value},null,8,["detail"])])])])])])}}},Oe=g(Be,[["__scopeId","data-v-bed30895"]]);export{Oe as default};
